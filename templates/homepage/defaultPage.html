<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Township Clinic - Home</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>
<body class="default-page">
    <!-- Menu Bar -->
    <nav class="default-menu fixed w-full bg-white shadow-md z-10">
        <div class="container mx-auto px-4 flex justify-between items-center py-4">
            <div class="logo text-2xl font-bold text-primary">Township Clinic</div>
            <ul class="flex space-x-6">
                <li><a href="{{ url_for('default_page')}}">Home</a></li>
                <li class="relative dropdown">
                    <a href="#" class="dropbtn">Services</a>
                    <div class="dropdown-content absolute bg-white shadow-md rounded-md mt-2">
                        <a href="{{ url_for('patient_book_appointment')}}">Book Appointment</a>
                        <a href="{{ url_for('vaccinations_homepage')}}">Vaccinations</a>
                        <a href="{{ url_for('consultation_homepage')}}">Consultations</a>
                        <a href="{{ url_for('emergency_homepage')}}">Emergency Care</a>
                    </div>
                </li>
                <li><a href="{{ url_for('about')}}">About Us</a></li>
                <li><a href="{{ url_for('contact')}}">Contact</a></li>
                <li><a href="{{ url_for('login_page') }}">Sign In</a></li>
                <li><a href="{{ url_for('register') }}">Register</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 pt-24 pb-8">
        <!-- Hero Section -->
        <section class="hero flex flex-col md:flex-row items-center justify-between mb-12">
            <div class="hero-content md:w-1/2 mb-8 md:mb-0">
                <h1 class="text-4xl font-bold mb-4">Welcome to Township Clinic</h1>
                <p class="text-lg mb-6">Your trusted partner in healthcare, delivering quality service since 2025.</p>
                <div class="health-links flex space-x-4">
                    <a href="https://www.who.int/health-topics" target="_blank" class="btn btn-primary">WHO Health Topics</a>
                    <a href="https://www.health.gov.za" target="_blank" class="btn btn-primary">SA Department of Health</a>
                    <a href="https://www.mediclinic.co.za/en/corporate/healthcare-services.html" target="_blank" class="btn btn-primary">Mediclinic Services</a>
                </div>
            </div>
            <div class="hero-image md:w-1/2">
                <img src="{{ url_for('static', filename='Uploads/optional.jpeg') }}" alt="Township Clinic Overview" class="rounded-lg shadow-md" />
            </div>
        </section>

        <!-- News Section -->
        <section class="news-section mb-12">
            <h2 class="text-2xl font-semibold mb-6 text-center">Latest Health News</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 news-cards">
                {% if articles %}
                {% for article in articles %}
                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-2">{{ article.title }}</h3>
                        <p class="text-gray-600 mb-4">{{ article.publishedAt[:10] }} - {{ article.description or 'No description available.' }}</p>
                        <a href="{{ article.url }}" target="_blank" class="btn btn-primary">Read More</a>
                    </div>
                {% endfor %}
                {% else %}
                    <div class="card bg-white rounded-lg shadow-md p-6 col-span-full text-center">
                        <h3 class="text-xl font-semibold mb-2">No News Available</h3>
                        <p class="text-gray-600">Unable to fetch health news at this time. Please try again later.</p>
                    </div>
                {% endif %}
            </div>
        </section>

        <!-- OpenFDA Drug Safety Reports Section -->
        <section class="drug-safety-section mb-12">
            <h2 class="text-2xl font-semibold mb-6 text-center">Recent Drug Safety Reports</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 events-cards">
                {% if openfda_events %}
                {% for event in openfda_events %}
                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-xl font-semibold mb-2">Event ID: {{ event.safetyreportid }}</h3>
                        <p class="text-gray-600"><strong>Received Date:</strong> {{ event.receivedate }}</p>
                        <p class="text-gray-600"><strong>Patient Age:</strong> {{ event.patient.patientonsetage or 'N/A' }}</p>
                        <p class="text-gray-600"><strong>Patient Sex:</strong>
                            {% if event.patient.patientsex == "1" %} Male
                            {% elif event.patient.patientsex == "2" %} Female
                            {% else %} Unknown
                            {% endif %}
                        </p>
                        <p class="text-gray-600"><strong>Reactions:</strong>
                            {% for reaction in event.patient.reaction %}
                                {{ reaction.reactionmeddrapt }}{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </p>
                        <p class="text-gray-600"><strong>Drugs Involved:</strong>
                            {% for drug in event.patient.drug %}
                                {{ drug.medicinalproduct }}{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </p>
                    </div>
                {% endfor %}
                {% else %}
                    <p class="text-center text-gray-600 col-span-full">No recent drug safety reports available.</p>
                {% endif %}
            </div>
        </section>

        <!-- Clinic Updates -->
        <section class="updates-section mb-12">
            <h2 class="text-2xl font-semibold mb-6 text-center">Clinic Updates</h2>
            <div class="card bg-white rounded-lg shadow-md p-6 text-center">
                <p class="text-gray-600">New vaccination campaign launched in South Africa. System updates by July 15, 2025.</p>
            </div>
        </section>

        <!-- Important Notices -->
        <section class="notices-section">
            <h2 class="text-2xl font-semibold mb-6 text-center">Important Notices</h2>
            <div class="card bg-white rounded-lg shadow-md p-6 text-center">
                <p class="text-gray-600">Staff must complete cybersecurity training by July 10, 2025.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer bg-gray-100 py-8">
        <div class="container mx-auto px-4 footer-content grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="footer-section">
                <h3 class="text-xl font-semibold mb-4">FAQ</h3>
                <ul class="space-y-2">
                    <li><a href="#faq-appointments">How to Book an Appointment?</a></li>
                    <li><a href="#faq-insurance">Do You Accept Insurance?</a></li>
                    <li><a href="#faq-emergency">Emergency Services Available?</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 class="text-xl font-semibold mb-4">Location</h3>
                <p class="text-gray-600">123 Health Street, Soweto, Johannesburg, South Africa</p>
                <p><a href="https://maps.google.com/?q=123+Health+Street,+Soweto" target="_blank">View Map</a></p>
            </div>
            <div class="footer-section">
                <h3 class="text-xl font-semibold mb-4">Services</h3>
                <ul class="space-y-2">
                    <li>General Consultations</li>
                    <li>Vaccination Programs</li>
                    <li>Emergency Care</li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 class="text-xl font-semibold mb-4">Privacy Policy</h3>
                <p class="text-gray-600">Learn how we protect your personal health information.</p>
                <a href="#privacy-policy">Read More</a>
            </div>
        </div>
        <div class="footer-bottom text-center mt-8 text-gray-600">
            <p>Â© 2025 Township Clinic. All rights reserved.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='defaultPage.js') }}"></script>
</body>
</html>