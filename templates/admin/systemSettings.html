{% extends "base.html" %}
{% block title %}System Settings - Township Clinic{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-8">
    <form id="settings-form" action="{{ url_for('admin_system_settings') }}" method="POST" class="bg-white rounded-lg shadow-md p-6">
        <!-- Clinic Information Management -->
        <details class="settings-panel mb-6">
            <summary class="text-xl font-semibold cursor-pointer mb-2">Clinic Information Management</summary>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div class="form-group">
                    <label for="clinic-name" class="block text-sm font-medium text-gray-700">Clinic Name</label>
                    <input type="text" id="clinic-name" name="clinic_name" value="{{ system_settings.get('clinic_name', 'Township Clinic') }}" required class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="clinic-address" class="block text-sm font-medium text-gray-700">Address</label>
                    <textarea id="clinic-address" name="clinic_address" class="mt-1 p-2 w-full border rounded-md">{{ system_settings.get('clinic_address', '') }}</textarea>
                </div>
                <div class="form-group">
                    <label for="clinic-contact" class="block text-sm font-medium text-gray-700">Contact Details</label>
                    <input type="text" id="clinic-contact" name="clinic_contact" value="{{ system_settings.get('clinic_contact', '') }}" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="clinic-logo" class="block text-sm font-medium text-gray-700">Logo URL</label>
                    <input type="text" id="clinic-logo" name="clinic_logo" value="{{ system_settings.get('clinic_logo', '') }}" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="branding-color" class="block text-sm font-medium text-gray-700">Branding Color</label>
                    <input type="color" id="branding-color" name="branding_color" value="{{ system_settings.get('branding_color', '#000000') }}" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="operating-hours" class="block text-sm font-medium text-gray-700">Operating Hours</label>
                    <input type="text" id="operating-hours" name="operating_hours" value="{{ system_settings.get('operating_hours', '9:00 AM - 5:00 PM') }}" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="holiday-calendar" class="block text-sm font-medium text-gray-700">Holiday Calendar</label>
                    <textarea id="holiday-calendar" name="holiday_calendar" class="mt-1 p-2 w-full border rounded-md">{{ system_settings.get('holiday_calendar', '') }}</textarea>
                </div>
            </div>
        </details>

        <!-- User & Role Management -->
        <details class="settings-panel mb-6">
            <summary class="text-xl font-semibold cursor-pointer mb-2">User & Role Management</summary>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div class="form-group">
                    <label for="add-user-username" class="block text-sm font-medium text-gray-700">Add User Username</label>
                    <input type="text" id="add-user-username" name="add_user_username" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="form-group">
                    <label for="add-user-role" class="block text-sm font-medium text-gray-700">Role</label>
                    <select id="add-user-role" name="add_user_role" class="mt-1 p-2 w-full border rounded-md">
                        <option value="admin">Admin</option>
                        <option value="doctor">Doctor</option>
                        <option value="nurse">Nurse</option>
                        <option value="receptionist">Receptionist</option>
                    </select>
                </div>
                <div class="col-span-2">
                    <button type="submit" name="action" value="add_user" class="btn btn-primary">Add User</button>
                </div>
                <div class="form-group">
                    <label for="password-policy" class="block text-sm font-medium text-gray-700">Password Policy</label>
                    <input type="text" id="password-policy" name="password_policy" value="{{ system_settings.get('password_policy', 'Min 8 chars') }}" class="mt-1 p-2 w-full border rounded-md">
                </div>
                <div class="col-span-2">
                    <button type="submit" name="action" value="reset_password" class="btn btn-primary">Reset Password</button>
                </div>
            </div>
        </details>

        <!-- Add remaining sections similarly... -->

        <div class="form-actions mt-6">
            <button type="submit" class="btn btn-primary">Save All Settings</button>
        </div>
    </form>
</div>
{% endblock %}