{% extends "base.html" %}
{% block title %}Reception Overview - Township Clinic{% endblock %}
{% block content %}
<div class="dashboard-content reception-overview">
    <h2>Reception Overview</h2>
    <p>Welcome back! Here’s an overview of your day and some useful metrics to help manage patient flow smoothly.</p>
    <section class="overview-metrics">
        <div><strong>Today's Scheduled Appointments:</strong> {{ patients_today|length }}</div>
        <div><strong>Total Visits This Month:</strong> {{ all_visits|length }}</div>
        <div><strong>Current Staff Available:</strong> {{ available_staff|length }}</div>
        <div><strong>Walk-ins Waiting:</strong> {{ walkins_waiting|length }}</div>
        <div><strong>Missed Appointments:</strong> {{ missed_appointments|length }}</div>
        <div><strong>Pending Patient Registrations:</strong> {{ pending_registrations|length }}</div>
    </section>
    <section class="recent-activity">
        <h3>Upcoming Appointments (Next 3 Days)</h3>
        {% if upcoming_appointments %}
            <ul>
                {% for appt in upcoming_appointments %}
                    <li>{{ appt.date.strftime('%b %d, %A') }} — {{ appt.patient_name }} ({{ appt.reason }})</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No appointments scheduled in the next 3 days.</p>
        {% endif %}
    </section>
    <section class="quick-links">
        <h3>Quick Links</h3>
        <ul>
            <li><a href="{{ url_for('appointment_homepage') }}" class="btn">Manage Appointments</a></li>
            <li><a href="{{ url_for('add_patient') }}" class="btn btn-secondary">Add New Patient</a></li>
            <li><a href="{{ url_for('check_in_page') }}" class="btn btn-primary">Open Check-in Desk</a></li>
            <li><a href="{{ url_for('search_patient') }}" class="btn">Search Patients</a></li>
        </ul>
    </section>
</div>
{% endblock %}
